# TGæ—ºä¼æ¥­ç®¡ç†ç³»çµ± - æ©Ÿå™¨äººæ•¸æ“šæ•´åˆç‰ˆ

## ğŸ¯ æ•´åˆåŠŸèƒ½ç‰¹è‰²

### âœ… å®Œæ•´æ•¸æ“šæ•´åˆ
- **ğŸ¤– TGæ©Ÿå™¨äººæ•¸æ“š** - è‡ªå‹•è®€å– `bot_database.json`
- **ğŸ“Š è¨‚å–®ç®¡ç†** - é¡¯ç¤ºçœŸå¯¦çš„TRX/USDTäº¤æ˜“è¨˜éŒ„
- **ğŸ”‘ æ¿€æ´»ç¢¼ç³»çµ±** - ç®¡ç†æ‰€æœ‰æ¿€æ´»ç¢¼ç‹€æ…‹
- **ğŸ“ æ¡é›†æ•¸æ“š** - é¡¯ç¤ºç”¨æˆ¶ä¸Šå‚³çš„æ¡é›†çµæœ
- **ğŸ“ˆ å¯¦æ™‚çµ±è¨ˆ** - åŸºæ–¼çœŸå¯¦æ•¸æ“šçš„çµ±è¨ˆåˆ†æ

### ğŸ”— æ•¸æ“šä¾†æº
1. **bot_database.json** - TGæ©Ÿå™¨äººçš„è¨‚å–®ã€æ¿€æ´»ç¢¼æ•¸æ“š
2. **uploaded_data/** - ç”¨æˆ¶æ¡é›†ä¸¦ä¸Šå‚³çš„æˆå“¡æ•¸æ“š
3. **å¯¦æ™‚API** - èˆ‡ç¾æœ‰TGæ©Ÿå™¨äººAPIå®Œæ•´æ•´åˆ

## ğŸš€ Railwayéƒ¨ç½²æŒ‡å—

### æ–¹æ¡ˆAï¼šç¨ç«‹Webæœå‹™ (æ¨è–¦)
```bash
# 1. æ›´æ–°ä»£ç¢¼
git add .
git commit -m "Add integrated enterprise management system"
git push origin main

# 2. Railwayéƒ¨ç½²
# å‰µå»ºæ–°æœå‹™ï¼Œé¸æ“‡TG_WANGå€‰åº«
# è¨­ç½®å•Ÿå‹•å‘½ä»¤: python integrated_enterprise_app.py
```

### æ–¹æ¡ˆBï¼šèˆ‡æ©Ÿå™¨äººå…±å­˜
å¦‚æœæƒ³è¦æ©Ÿå™¨äººå’ŒWebç®¡ç†ç³»çµ±åŒæ™‚é‹è¡Œï¼š

1. **ä¿®æ”¹ Procfile**:
```
web: python integrated_enterprise_app.py
bot: python main.py
api: python app.py
```

2. **ç’°å¢ƒè®Šé‡é…ç½®**:
```bash
# Webç®¡ç†ç³»çµ±
PORT=8080
SECRET_KEY=your-secret-key
ADMIN_PASSWORD=tgwang2024

# æ•¸æ“šæ–‡ä»¶è·¯å¾‘
BOT_DATABASE_PATH=bot_database.json
UPLOAD_DATA_DIR=uploaded_data

# TGæ©Ÿå™¨äºº (å¦‚æœåŒæ™‚é‹è¡Œ)
BOT_TOKEN=your-bot-token
ADMIN_IDS=your-admin-ids
USDT_ADDRESS=your-usdt-address
```

## ğŸ“± ç¶²ç«™åŠŸèƒ½å±•ç¤º

### ğŸ  å„€è¡¨æ¿æ¦‚è¦½
- **ç¸½æ”¶å…¥çµ±è¨ˆ** - é¡¯ç¤ºTRX/USDTå¯¦éš›æ”¶å…¥
- **è¨‚å–®æ•¸é‡** - æ©Ÿå™¨äººè™•ç†çš„çœŸå¯¦è¨‚å–®
- **æ¿€æ´»ç¢¼çµ±è¨ˆ** - å·²ç”Ÿæˆ/å·²ä½¿ç”¨çš„æ¿€æ´»ç¢¼
- **æ¡é›†æ•¸æ“šé‡** - ç”¨æˆ¶ä¸Šå‚³çš„æˆå“¡ç¸½æ•¸

### ğŸ›’ TGæ©Ÿå™¨äººè¨‚å–®
```json
// é¡¯ç¤ºçœŸå¯¦æ•¸æ“šç¤ºä¾‹
{
  "order_id": "TG615721W5G6",
  "user_id": 7537903238,
  "plan_type": "weekly",
  "amount": 1.01,
  "currency": "TRX",
  "status": "paid",
  "tx_hash": "386b2300a7518c85...",
  "created_at": "2025-07-04T07:55:00",
  "expires_at": "2025-07-11T16:00:28"
}
```

### ğŸ”‘ æ¿€æ´»ç¢¼ç®¡ç†
- **æ¿€æ´»ç¢¼ç‹€æ…‹** - å·²ä½¿ç”¨/æœªä½¿ç”¨
- **é—œè¯è¨‚å–®** - æ¿€æ´»ç¢¼å°æ‡‰çš„è¨‚å–®ä¿¡æ¯  
- **è¨­å‚™ç¶å®š** - é¡¯ç¤ºä½¿ç”¨æ¿€æ´»ç¢¼çš„è¨­å‚™ID
- **åˆ°æœŸç®¡ç†** - è‡ªå‹•æª¢æ¸¬éæœŸæ¿€æ´»ç¢¼

### ğŸ“Š æ¡é›†æ•¸æ“šçµ±è¨ˆ
- **æ¡é›†è¨˜éŒ„** - ç”¨æˆ¶ä½¿ç”¨è»Ÿä»¶æ¡é›†çš„æˆå“¡æ•¸æ“š
- **è¨­å‚™ä¿¡æ¯** - æ¡é›†è¨­å‚™çš„è©³ç´°ä¿¡æ¯
- **ç›®æ¨™ç¾¤çµ„** - æ¡é›†çš„Telegramç¾¤çµ„
- **æ•¸æ“šé‡çµ±è¨ˆ** - æ¯æ¬¡æ¡é›†çš„æˆå“¡æ•¸é‡

## ğŸ”§ æœ¬åœ°æ¸¬è©¦

```bash
# ç¢ºä¿æœ‰æ•¸æ“šæ–‡ä»¶
ls bot_database.json    # TGæ©Ÿå™¨äººæ•¸æ“š
ls -la uploaded_data/   # æ¡é›†æ•¸æ“šç›®éŒ„

# å®‰è£ä¾è³´
pip install flask requests

# é‹è¡Œæ•´åˆç³»çµ±
python integrated_enterprise_app.py

# è¨ªå• http://localhost:5000
# ç™»å…¥: admin/tgwang2024
```

## ğŸ“Š æ•¸æ“šçµæ§‹èªªæ˜

### TGæ©Ÿå™¨äººæ•¸æ“š (bot_database.json)
```json
{
  "orders": {
    "è¨‚å–®ID": {
      "order_id": "è¨‚å–®ç·¨è™Ÿ",
      "user_id": "ç”¨æˆ¶ID", 
      "plan_type": "æ–¹æ¡ˆé¡å‹",
      "amount": "é‡‘é¡",
      "currency": "è²¨å¹£",
      "status": "ç‹€æ…‹",
      "tx_hash": "äº¤æ˜“å“ˆå¸Œ"
    }
  },
  "activation_codes": {
    "æ¿€æ´»ç¢¼": {
      "activation_code": "æ¿€æ´»ç¢¼",
      "plan_type": "æ–¹æ¡ˆé¡å‹",
      "used": "æ˜¯å¦å·²ä½¿ç”¨",
      "used_by_device": "ä½¿ç”¨è¨­å‚™"
    }
  },
  "statistics": {
    "total_revenue": "ç¸½æ”¶å…¥",
    "orders_created": "è¨‚å–®æ•¸é‡",
    "activations_generated": "æ¿€æ´»ç¢¼æ•¸é‡"
  }
}
```

### æ¡é›†æ•¸æ“š (uploaded_data/*.json)
```json
{
  "activation_code": "æ¿€æ´»ç¢¼",
  "device_info": {
    "hostname": "è¨­å‚™åç¨±",
    "platform": "æ“ä½œç³»çµ±"
  },
  "collected_members": [
    {
      "username": "ç”¨æˆ¶å",
      "user_id": "ç”¨æˆ¶ID",
      "first_name": "åå­—",
      "phone": "é›»è©±",
      "collected_at": "æ¡é›†æ™‚é–“"
    }
  ],
  "collection_info": {
    "collection_method": "æ¡é›†æ–¹æ³•",
    "target_groups": ["ç›®æ¨™ç¾¤çµ„"],
    "total_collected": "æ¡é›†æ•¸é‡"
  }
}
```

## ğŸ” æ¬Šé™èªªæ˜

### ç®¡ç†å“¡ (admin)
- âœ… æŸ¥çœ‹æ‰€æœ‰è¨‚å–®å’Œæ¿€æ´»ç¢¼
- âœ… ç®¡ç†æ‰€æœ‰æ¡é›†æ•¸æ“š
- âœ… è¨ªå•çµ±è¨ˆåˆ†æ
- âœ… ç”¨æˆ¶ç®¡ç†åŠŸèƒ½

### ç¶“ç† (manager)  
- âœ… æŸ¥çœ‹è¨‚å–®å’Œæ”¶å…¥çµ±è¨ˆ
- âœ… ç®¡ç†å®¢æˆ¶æ¿€æ´»ç¢¼
- âœ… æŸ¥çœ‹æ¡é›†æ•¸æ“š
- âŒ ç„¡ç³»çµ±ç®¡ç†æ¬Šé™

### ä»£ç†å•† (agent)
- âœ… æŸ¥çœ‹è‡ªå·±ç›¸é—œçš„è¨‚å–®
- âœ… ç®¡ç†è‡ªå·±å®¢æˆ¶çš„æ¿€æ´»ç¢¼
- âŒ ç„¡æ³•æŸ¥çœ‹å…¶ä»–ä»£ç†æ•¸æ“š

## ğŸ‰ éƒ¨ç½²å®Œæˆå¾Œ

1. **è¨ªå•ç¶²ç«™** - Railwayæä¾›çš„åŸŸå
2. **æª¢æŸ¥æ•¸æ“š** - ç¢ºèªæ©Ÿå™¨äººæ•¸æ“šæ­£å¸¸é¡¯ç¤º
3. **æ¸¬è©¦åŠŸèƒ½** - é©—è­‰å„å€‹æ¨¡å¡Šæ­£å¸¸å·¥ä½œ
4. **ç›£æ§ç‹€æ…‹** - è§€å¯Ÿå¯¦æ™‚æ•¸æ“šæ›´æ–°

## ğŸ’¡ æ³¨æ„äº‹é …

- **æ•¸æ“šåŒæ­¥** - ç¶²ç«™æœƒå¯¦æ™‚è®€å–æ©Ÿå™¨äººæ•¸æ“šæ–‡ä»¶
- **æ–‡ä»¶æ¬Šé™** - ç¢ºä¿Railwayç’°å¢ƒèƒ½è®€å–æ•¸æ“šæ–‡ä»¶
- **æ€§èƒ½å„ªåŒ–** - å¤§é‡æ•¸æ“šæ™‚å»ºè­°å•Ÿç”¨ç·©å­˜
- **å®‰å…¨è€ƒæ…®** - ç”Ÿç”¢ç’°å¢ƒè«‹ä¿®æ”¹é»˜èªå¯†ç¢¼

ç¾åœ¨æ‚¨æœ‰ä¸€å€‹å®Œæ•´æ•´åˆTGæ©Ÿå™¨äººæ•¸æ“šçš„ä¼æ¥­ç®¡ç†ç¶²ç«™ï¼ğŸŠ